{"remainingRequest":"/home/david/Documents/barberShopFront/node_modules/babel-loader/lib/index.js!/home/david/Documents/barberShopFront/node_modules/eslint-loader/index.js??ref--13-0!/home/david/Documents/barberShopFront/src/main.js","dependencies":[{"path":"/home/david/Documents/barberShopFront/src/main.js","mtime":1592420824290},{"path":"/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"/home/david/Documents/barberShopFront/node_modules/core-js/modules/es6.array.iterator.js\";\nimport \"/home/david/Documents/barberShopFront/node_modules/core-js/modules/es6.promise.js\";\nimport \"/home/david/Documents/barberShopFront/node_modules/core-js/modules/es6.object.assign.js\";\nimport \"/home/david/Documents/barberShopFront/node_modules/core-js/modules/es7.promise.finally.js\";\nimport Vue from 'vue';\nimport App from \"./App.vue\";\nimport VueRouter from 'vue-router';\nimport routes from \"./routes\"; //import { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\n\nVue.config.productionTip = false; //Vue.use(BootstrapVue);\n//Vue.use(IconsPlugin);\n\nVue.use(VueRouter);\nvar router = new VueRouter({\n  mode: 'history',\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (localStorage.getItem('token') == null) {\n      next({\n        path: '/login',\n        params: {\n          nextUrl: to.fullPath\n        }\n      });\n    } else {\n      var user = JSON.parse(localStorage.getItem('user'));\n\n      if (to.matched.some(function (record) {\n        return record.meta.is_admin;\n      })) {\n        if (user.is_admin == 1) {\n          next();\n        } else {\n          next({\n            name: 'userboard'\n          });\n        }\n      } else {\n        next();\n      }\n    }\n  } else if (to.matched.some(function (record) {\n    return record.meta.guest;\n  })) {\n    if (localStorage.getItem('token') == null) {\n      next();\n    } else {\n      next({\n        name: 'userboard'\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default router;\nnew Vue({\n  created: function created() {\n    (function (d, s, id) {\n      var js;\n      var fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) return;\n      js = d.createElement(s);\n      js.id - id;\n      js.src = '//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.9';\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  },\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["/home/david/Documents/barberShopFront/src/main.js"],"names":["Vue","App","VueRouter","routes","config","productionTip","use","router","mode","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","localStorage","getItem","path","params","nextUrl","fullPath","user","JSON","parse","is_admin","name","guest","created","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport VueRouter from 'vue-router'\nimport routes from './routes'\n//import { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\n\n\nVue.config.productionTip = false;\n//Vue.use(BootstrapVue);\n//Vue.use(IconsPlugin);\nVue.use(VueRouter);\n\nconst router = new VueRouter({mode: 'history', routes});\n\nrouter.beforeEach((to, from, next) => {\n    if(to.matched.some(record => record.meta.requiresAuth)) {\n        if (localStorage.getItem('token') == null) {\n            next({\n                path: '/login',\n                params: { nextUrl: to.fullPath },\n                \n            })\n        } else {\n            let user = JSON.parse(localStorage.getItem('user'))\n            if(to.matched.some(record => record.meta.is_admin)) {\n                if(user.is_admin == 1){\n                    next()\n                }\n                else{\n                    next({ name: 'userboard'})\n                }\n            }else {\n                next()\n            }\n        }\n    } else if(to.matched.some(record => record.meta.guest)) {\n      if(localStorage.getItem('token') == null){\n          next()\n    }\n    else{\n          next({ name: 'userboard'})\n      }\n    }else {\n        next() \n    }\n})\n\nexport default router\n\nnew Vue({\n    created: function () {\n        (function (d, s, id) {\n            var js;\n            var fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) return \n            js = d.createElement(s) \n            js.id - id;\n            js.src = '//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.9';\n            fjs.parentNode.insertBefore(js, fjs)\n        } (document, 'script', 'facebook-jssdk')) \n    },\n    router, \n    render: h => h(App),\n}).$mount('#app')\n"]}]}