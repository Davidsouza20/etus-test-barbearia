{"remainingRequest":"/home/david/Documents/barberShopFront/node_modules/babel-loader/lib/index.js!/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documents/barberShopFront/src/views/ManagerReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/Documents/barberShopFront/src/views/ManagerReport.vue","mtime":1592523645743},{"path":"/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/david/Documents/barberShopFront/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from \"../services/api\";\nimport moment from 'moment';\nimport Datepicker from 'vuejs-datepicker';\nexport default {\n  components: {\n    Datepicker: Datepicker\n  },\n  data: function data() {\n    return {\n      services: [],\n      items: [],\n      tmpItems: [],\n      startDate: new Date(),\n      endDate: new Date(),\n      employee_name: localStorage.getItem('employee_name'),\n      isManager: localStorage.getItem('employee_manager')\n    };\n  },\n  methods: {\n    filter: function filter() {\n      var _this = this;\n\n      var filteredItems = this.items.filter(function (item) {\n        var date = new Date(item.Data);\n        return date >= _this.startDate && date <= _this.endDate;\n      });\n      this.tmpItems = filteredItems;\n    }\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.get('service').then(function (res) {\n                return _this2.services = res.data;\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 2:\n              this.services.map(function (service) {\n                _this2.items.push({\n                  employee: service.employee.name,\n                  client: service.client.name,\n                  service: service.service_type,\n                  date: service.scheduled_date,\n                  contact: service.client.phone\n                });\n              });\n              this.tmpItems = this.items;\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["ManagerReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,GAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,UAAA,MAAA,kBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,IAAA,IAAA,EAJA;AAKA,MAAA,OAAA,EAAA,IAAA,IAAA,EALA;AAMA,MAAA,aAAA,EAAA,YAAA,CAAA,OAAA,CAAA,eAAA,CANA;AAOA,MAAA,SAAA,EAAA,YAAA,CAAA,OAAA,CAAA,kBAAA;AAPA,KAAA;AASA,GAfA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,aAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,eAAA,IAAA,IAAA,KAAA,CAAA,SAAA,IAAA,IAAA,IAAA,KAAA,CAAA,OAAA;AACA,OAHA,CAAA;AAIA,WAAA,QAAA,GAAA,aAAA;AACA;AAPA,GAjBA;AA4BA,EAAA,OA5BA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA6BA,GAAA,CAAA,GAAA,CAAA,SAAA,EACA,IADA,CACA,UAAA,GAAA;AAAA,uBAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AAAA,eADA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,uBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,eAFA,CA7BA;;AAAA;AAmCA,mBAAA,QAAA,CAAA,GAAA,CAAA,UAAA,OAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,kBAAA,QAAA,EAAA,OAAA,CAAA,QAAA,CAAA,IADA;AAEA,kBAAA,MAAA,EAAA,OAAA,CAAA,MAAA,CAAA,IAFA;AAGA,kBAAA,OAAA,EAAA,OAAA,CAAA,YAHA;AAIA,kBAAA,IAAA,EAAA,OAAA,CAAA,cAJA;AAKA,kBAAA,OAAA,EAAA,OAAA,CAAA,MAAA,CAAA;AALA,iBAAA;AAQA,eATA;AAWA,mBAAA,QAAA,GAAA,KAAA,KAAA;;AA9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n    <div class=\"table\">\n        <h4><strong> Gestora (o) :</strong>  {{employee_name}}</h4>\n        <hr>\n        <div class=\"form-group flex\">\n            <div>\n               Inicio\n               <datepicker name='iniio' bootstrap-styling v-model=\"startDate\"></datepicker> \n            </div>\n            <div>\n                Fim\n                <datepicker name='fim' bootstrap-styling v-model=\"endDate\"></datepicker> \n            </div>\n\n            <button @click=\"filter\" class=\"btn btn-success \">Filtrar</button>    \n        </div>\n         <hr>\n        <h3>Relatório de Serviços</h3>\n         <span class=\"count\"><strong> #</strong> {{ tmpItems.length}}</span>\n        <br>\n        <hr>\n\n         <table class=\"table table-striped table-hover\">\n            <thead>\n                <tr>\n                    <th>Profissional</th>\n                    <th>Cliente</th>\n                    <th>Serviço</th>\n                    <th>Data</th>\n                    <th>Fale com o Cliente</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"item in tmpItems\" :key=\"item.id\">\n                     <td>{{ item.employee }}</td>\n                    <td>{{ item.client }}</td>\n                    <td>{{ item.service }}</td>\n                    <td>{{ item.date }}</td>\n                    <td class=\"icon\">\n                         <a :href=\"'https://wa.me/'+ item.client.phone\" target=\"_blank\"><img src=\"/img/whatsapp.svg\" alt=\"whatsapp icone\"></a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n    </div>\n    \n\n</template>\n<script>\nimport api from '../services/api'\nimport moment from 'moment'\nimport Datepicker from 'vuejs-datepicker'\n\nexport default {\n    components: {\n        Datepicker\n    },\n    \n    data() {\n        return {\n            services: [],\n            items: [],\n            tmpItems: [],\n            startDate: new Date(),\n            endDate: new Date(),\n            employee_name: localStorage.getItem('employee_name'),\n            isManager: localStorage.getItem('employee_manager')\n        }\n    },\n    \n    methods: {\n        filter() {\n            const filteredItems = this.items.filter(item => {\n                let date = new Date(item.Data);\n                return (date >= this.startDate && date <= this.endDate);\n            });\n            this.tmpItems = filteredItems;\n        },\n          \n    },\n\n    async created() {\n        await api.get('service')\n        .then(res =>  this.services = res.data)\n        .catch(err => console.log(err)); \n\n        \n\n        this.services.map((service) => {\n            this.items.push({\n                employee: service.employee.name,\n                client: service.client.name,\n                service: service.service_type,\n                date: service.scheduled_date,\n                contact: service.client.phone\n            })\n            \n        });\n\n        this.tmpItems = this.items;   \n        \n    },\n\n}\n</script>\n<style scoped>\n    *{\n        margin-top: 25px;\n        font-family: 'Roboto300', sans-serif;\n    }\n\n    .count {\n        float: right;\n        justify-self: right;\n    }\n\n    button {\n        height: 45px;\n        align-self: flex-end;\n    }\n\n    .flex {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-around;\n        flex-wrap: wrap;\n        margin: 40px auto;\n\n    }\n\n    .table {\n        max-width: 900px;\n        width: 95%;\n        margin: 20px auto;\n    }\n</style>"],"sourceRoot":"src/views"}]}