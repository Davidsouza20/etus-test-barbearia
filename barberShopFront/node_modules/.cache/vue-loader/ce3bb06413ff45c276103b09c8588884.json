{"remainingRequest":"/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documents/barberShopFront/src/views/Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/Documents/barberShopFront/src/views/Report.vue","mtime":1592523157733},{"path":"/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../services/api'\nimport moment from 'moment'\nimport Datepicker from 'vuejs-datepicker'\n\nexport default {\n    components: {\n        Datepicker\n    },\n    \n    data() {\n        return {\n            services: [],\n            items: [],\n            tmpItems: [],\n            fields: ['Cliente', 'Serviço', 'Data', 'Contato'],\n            startDate: new Date('1950-01-01'),\n            endDate: new Date(),\n            employee_name: localStorage.getItem('employee_name'),\n        }\n    },\n    \n    methods: {\n        filter() {\n            const filteredItems = this.items.filter(item => {\n                let date = new Date(item.Data);\n                return (date >= this.startDate && date <= this.endDate);\n            });\n            this.tmpItems = filteredItems;\n        },         \n    },\n\n    async created() {\n        await api.get('service')\n        .then(res => this.services = res.data)\n        .catch(err => console.log(err)); \n\n        \n\n        this.services.map((service) => {\n            if (service.employee_id == localStorage.getItem('employee_id')) {\n                this.items.push({\n                    client: service.client.name,\n                    service: service.service_type,\n                    date: service.scheduled_date,\n                    contact: service.client.phone\n                    \n                    \n                })\n            }    \n        });\n\n        this.tmpItems = this.items;   \n        \n    },\n\n}\n",{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA","file":"Report.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"table\">\n        <h4><strong>Profissional :</strong>  {{employee_name}}</h4>\n        <hr>\n        <div class=\"form-group flex\">\n            <div>\n               Inicio\n               <datepicker name='iniio' bootstrap-styling v-model=\"startDate\"></datepicker> \n            </div>\n            <div>\n                Fim\n                <datepicker name='fim' bootstrap-styling v-model=\"endDate\"></datepicker> \n            </div>\n\n            <button @click=\"filter\" class=\"btn btn-success \">Filtrar</button>    \n        </div>\n         <hr>\n        <h3>Relatório de Serviços</h3>\n         <span class=\"count\"><strong> #</strong> {{ tmpItems.length}}</span>\n        <br>\n        <hr>\n        \n        <table class=\"table table-striped table-hover\">\n            <thead>\n                <tr>\n                    <th>Cliente</th>\n                    <th>Serviço</th>\n                    <th>Data</th>\n                    <th>Contato</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"item in tmpItems\" :key=\"item.id\">\n                    <td>{{ item.client }}</td>\n                    <td>{{ item.service }}</td>\n                    <td>{{ item.date }}</td>\n                    <td class=\"icon\">\n                         <a href=\"https://wa.me/5511954357267\" target=\"_blank\"><img src=\"/img/whatsapp.svg\" alt=\"whatsapp icone\"></a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    \n\n</template>\n<script>\nimport api from '../services/api'\nimport moment from 'moment'\nimport Datepicker from 'vuejs-datepicker'\n\nexport default {\n    components: {\n        Datepicker\n    },\n    \n    data() {\n        return {\n            services: [],\n            items: [],\n            tmpItems: [],\n            fields: ['Cliente', 'Serviço', 'Data', 'Contato'],\n            startDate: new Date('1950-01-01'),\n            endDate: new Date(),\n            employee_name: localStorage.getItem('employee_name'),\n        }\n    },\n    \n    methods: {\n        filter() {\n            const filteredItems = this.items.filter(item => {\n                let date = new Date(item.Data);\n                return (date >= this.startDate && date <= this.endDate);\n            });\n            this.tmpItems = filteredItems;\n        },         \n    },\n\n    async created() {\n        await api.get('service')\n        .then(res => this.services = res.data)\n        .catch(err => console.log(err)); \n\n        \n\n        this.services.map((service) => {\n            if (service.employee_id == localStorage.getItem('employee_id')) {\n                this.items.push({\n                    client: service.client.name,\n                    service: service.service_type,\n                    date: service.scheduled_date,\n                    contact: service.client.phone\n                    \n                    \n                })\n            }    \n        });\n\n        this.tmpItems = this.items;   \n        \n    },\n\n}\n</script>\n<style scoped>\n    *{\n        margin-top: 25px;\n        font-family: 'Roboto300', sans-serif;\n    }\n\n    .icon {\n        align-self: auto;\n    }\n\n     .count {\n        float: right;\n        justify-self: right;\n    }\n\n    button {\n        height: 45px;\n        align-self: flex-end;\n    }\n\n    .flex {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-around;\n        flex-wrap: wrap;\n        margin: 40px auto;\n\n    }\n\n    .table {\n        max-width: 900px;\n        width: 95%;\n        margin: 20px auto;\n    }\n</style>"]}]}