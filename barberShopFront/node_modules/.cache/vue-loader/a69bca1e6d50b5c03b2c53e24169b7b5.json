{"remainingRequest":"/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documents/barberShopFront/src/views/ManagerReport.vue?vue&type=style&index=0&id=a7224a12&scoped=true&lang=css&","dependencies":[{"path":"/home/david/Documents/barberShopFront/src/views/ManagerReport.vue","mtime":1592523645743},{"path":"/home/david/Documents/barberShopFront/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documents/barberShopFront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n*{\n    margin-top: 25px;\n    font-family: 'Roboto300', sans-serif;\n}\n\n.count {\n    float: right;\n    justify-self: right;\n}\n\nbutton {\n    height: 45px;\n    align-self: flex-end;\n}\n\n.flex {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    margin: 40px auto;\n\n}\n\n.table {\n    max-width: 900px;\n    width: 95%;\n    margin: 20px auto;\n}\n",{"version":3,"sources":["ManagerReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"ManagerReport.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"table\">\n        <h4><strong> Gestora (o) :</strong>  {{employee_name}}</h4>\n        <hr>\n        <div class=\"form-group flex\">\n            <div>\n               Inicio\n               <datepicker name='iniio' bootstrap-styling v-model=\"startDate\"></datepicker> \n            </div>\n            <div>\n                Fim\n                <datepicker name='fim' bootstrap-styling v-model=\"endDate\"></datepicker> \n            </div>\n\n            <button @click=\"filter\" class=\"btn btn-success \">Filtrar</button>    \n        </div>\n         <hr>\n        <h3>Relatório de Serviços</h3>\n         <span class=\"count\"><strong> #</strong> {{ tmpItems.length}}</span>\n        <br>\n        <hr>\n\n         <table class=\"table table-striped table-hover\">\n            <thead>\n                <tr>\n                    <th>Profissional</th>\n                    <th>Cliente</th>\n                    <th>Serviço</th>\n                    <th>Data</th>\n                    <th>Fale com o Cliente</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"item in tmpItems\" :key=\"item.id\">\n                     <td>{{ item.employee }}</td>\n                    <td>{{ item.client }}</td>\n                    <td>{{ item.service }}</td>\n                    <td>{{ item.date }}</td>\n                    <td class=\"icon\">\n                         <a :href=\"'https://wa.me/'+ item.client.phone\" target=\"_blank\"><img src=\"/img/whatsapp.svg\" alt=\"whatsapp icone\"></a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n    </div>\n    \n\n</template>\n<script>\nimport api from '../services/api'\nimport moment from 'moment'\nimport Datepicker from 'vuejs-datepicker'\n\nexport default {\n    components: {\n        Datepicker\n    },\n    \n    data() {\n        return {\n            services: [],\n            items: [],\n            tmpItems: [],\n            startDate: new Date(),\n            endDate: new Date(),\n            employee_name: localStorage.getItem('employee_name'),\n            isManager: localStorage.getItem('employee_manager')\n        }\n    },\n    \n    methods: {\n        filter() {\n            const filteredItems = this.items.filter(item => {\n                let date = new Date(item.Data);\n                return (date >= this.startDate && date <= this.endDate);\n            });\n            this.tmpItems = filteredItems;\n        },\n          \n    },\n\n    async created() {\n        await api.get('service')\n        .then(res =>  this.services = res.data)\n        .catch(err => console.log(err)); \n\n        \n\n        this.services.map((service) => {\n            this.items.push({\n                employee: service.employee.name,\n                client: service.client.name,\n                service: service.service_type,\n                date: service.scheduled_date,\n                contact: service.client.phone\n            })\n            \n        });\n\n        this.tmpItems = this.items;   \n        \n    },\n\n}\n</script>\n<style scoped>\n    *{\n        margin-top: 25px;\n        font-family: 'Roboto300', sans-serif;\n    }\n\n    .count {\n        float: right;\n        justify-self: right;\n    }\n\n    button {\n        height: 45px;\n        align-self: flex-end;\n    }\n\n    .flex {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-around;\n        flex-wrap: wrap;\n        margin: 40px auto;\n\n    }\n\n    .table {\n        max-width: 900px;\n        width: 95%;\n        margin: 20px auto;\n    }\n</style>"]}]}